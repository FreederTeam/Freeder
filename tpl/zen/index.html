<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Freeder</title>
	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<script type="text/x-handlebars">
		{{freeder-menu homeArrow=true}}
		<main class="main">
			{{outlet}}
		</main>
	</script>

	<script type="text/x-handlebars" id="entries">
		{{#each entry in model itemController="entry"}}
		<article {{bind-attr class=":article entry.isRead:read"}}  id="entry-entry.id">
			<div class="article--wrapper">
				<nav class="article--nav horizontal-nav">
					<div class="article--nav-wrapper">
						{{input type="checkbox" checked=entry.isRead}}
						<button class="horizontal-nav--item"><img class="icon" alt="More" src="img/plus.svg"/></button>
						<button class="horizontal-nav--item"><img class="icon" alt="Share" src="img/share.svg"/></button>
						<button class="horizontal-nav--item close-btn"><img class="icon" alt="Close" src="img/close.svg"/></button>
					</div>
				</nav>
				<h1 class="article--title">
					<a href="#">{{entry.title}}</a>
				</h1>
				<h2 class="article--info">
					<a href="feed/#">{{entry.source}}</a>
				</h2>
				<p class="article--subinfo">
					{{entry.author}}<br/>
					{{!--
					<time {{bind-attr datetime=entry.publicationDate}} >
						{{entry.publicationDate}}
					</time>
					--}}
				</p>
				<div class="article--content">
					{{entry.body}}
				</div>
			</div>
		</article>
		{{/each}}
	</script>

	<script type="text/x-handlebars" id="index">
		<article class="article">
			<div class="article--wrapper">
				{{#if feeds}}
					<h1 class="article--title">Welcome to Freeder!</h1>
					<h2 class="article--info">It seems that you dont follow any feed</h2>
					<div class="article--content">
						<p>
							You can add a new feed through the <a href="/settings.php#tab-feeds">Feeds settings</a> page.<br/>
							You can also import your feed from another reader thanks to <a href="/settings.php#tab-import">OPML import</a>.
						</p>
					</div>
				{{else}}
					<h1 class="article--title">Nothing new!</h1>
					<h2 class="article--info">You have no more unread entry</h2>
				{{/if}}
			</div>
		</article>
	</script>

	<script type="text/x-handlebars" id="components/modalbox">
		<div class="modalbox {$type} hidden">
			<div class="modalbox--wrapper1">
			<div class="modalbox--wrapper2">
				<h1 class="modalbox--title">{{title}}</h1>
				<div class="modalbox--content">
					{{content}}
				</div>
				<button class="modalbox--close button">Ok</button>
			</div>
			</div>
		</div>
	</script>


	<script type="text/x-handlebars" id="components/freeder-menu">
		<aside class="menu">
			<div class="menu--wrapper">
				<div class="menu--logo">
					<a href=""><img alt="freeder" src="img/logo.svg" class="icon" /></a>
				</div>
				
				<nav class="menu--nav vertical-nav">
					{{#if homeArrow}}
					<div class="vertical-nav--arrow"><img class="icon" alt="<" src="img/arrow.svg"/></div>
					{{/if}}
					<a href="/" class="vertical-nav--item"><img class="icon" alt="Home" src="img/home.svg"/></a>

					{{#if submenuArrow}}
					<div class="vertical-nav--arrow"><img class="icon" alt="<" src="img/arrow.svg"/></div>
					{{/if}}
					<button class="vertical-nav--item toggle-submenu" id="open-submenu-list"><img class="icon" alt="Feeds" src="img/list.svg"/></button>

					{{#if settingsArrow}}
					<div class="vertical-nav--arrow"><img class="icon" alt="<" src="img/arrow.svg"/></div>
					{{/if}}
					<a href="settings.php" class="vertical-nav--item"><img class="icon" alt="Settings" src="img/settings.svg"/></a>

					{{#if moreArrow}}
					<div class="vertical-nav--arrow"><img class="icon" alt="<" src="img/arrow.svg"/></div>
					{{/if}}
					<button {{action 'show-more'}} class="vertical-nav--item"><img class="icon" alt="More" src="img/plus_big.svg"/></button>
				</nav>
			</div>
		</aside>

		{{freeder-submenu}}
	</script>

	<script type="text/x-handlebars" id="components/freeder-submenu">
		<aside {{bind-attr class=":submenu :feed-submenu isShowingSubmenu:open"}}>
			<div class="submenu--wrapper">
				<div class="submenu--search searchbar">
					<input class="searchbar--input" type="search" placeholder="Searchâ€¦"/>
					<img class="searchbar--icon" alt="" src="img/search.svg"/>
				</div>

				<section id="submenu-list">

					<div class="submenu--section">
						<h4 class="submenu--section-title">Feeds</h4>
						<ul class="submenu--link-list">
							{loop="$feeds"}
								<li>
									<a href="/%feed%/{$value['id']}" title="{$value['description']}">{$value['title']}</a>
									<span class="coutner">?</span>
								</li>
							{/loop}
						</ul>
					</div>

				</section>

				<section id="submenu-more">
					<div class="submenu--section">
						<h4 class="submenu--section-title">Foo</h4>
						<a href="refresh.php?token={function="generate_token('refresh')"}">Synchronize</a>
					</div>
				</section>

			</div>
		</aside>
	</script>

	<script src="js/lib/jquery-2.1.1.min.js"></script>
	<script src="js/lib/handlebars-v2.0.0.js"></script>
	<script src="js/lib/ember-1.9.1.js"></script>
	<script src="js/lib/ember-data.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/router.js"></script>
	<script src="js/models/entry.js"></script>
	<script src="js/controllers/entries_controller.js"></script>
	<script src="js/controllers/entry_controller.js"></script>
	<!-- to activate the test runner, add the "?test" query string parameter -->
	<script src="tests/runner.js"></script>
</body>
</html>
